{"version":3,"file":"SelectDropdown.js","sources":["../../../../src/components/Select/SelectDropdown/SelectDropdown.tsx"],"sourcesContent":["import React, { forwardRef } from 'react';\nimport { DefaultProps, MantineShadow, ClassNames } from '@mantine/styles';\nimport { MantineTransition } from '../../Transition';\nimport { Paper } from '../../Paper';\nimport useStyles from './SelectDropdown.styles';\nimport { Popper } from '../../Popper';\n\nexport type SelectDropdownStylesNames = ClassNames<typeof useStyles>;\n\ninterface SelectDropdownProps extends DefaultProps<SelectDropdownStylesNames> {\n  mounted: boolean;\n  transition: MantineTransition;\n  transitionDuration: number;\n  transitionTimingFunction: string;\n  uuid: string;\n  shadow: MantineShadow;\n  maxDropdownHeight?: number | string;\n  children: React.ReactNode;\n  __staticSelector: string;\n  dropdownComponent?: React.FC<any>;\n  referenceElement?: HTMLElement;\n  direction?: React.CSSProperties['flexDirection'];\n  onDirectionChange?: (direction: React.CSSProperties['flexDirection']) => void;\n  zIndex?: number;\n}\n\nexport const SelectDropdown = forwardRef<HTMLDivElement, SelectDropdownProps>(\n  (\n    {\n      mounted,\n      transition,\n      transitionDuration,\n      transitionTimingFunction,\n      uuid,\n      shadow,\n      maxDropdownHeight,\n      children,\n      classNames,\n      styles,\n      dropdownComponent,\n      referenceElement,\n      direction = 'column',\n      onDirectionChange,\n      zIndex = 2000,\n      __staticSelector,\n    }: SelectDropdownProps,\n    ref\n  ) => {\n    const { classes } = useStyles(null, { classNames, styles, name: __staticSelector });\n\n    return (\n      <Popper\n        referenceElement={referenceElement}\n        mounted={mounted}\n        transition={transition}\n        transitionDuration={transitionDuration}\n        transitionTimingFunction={transitionTimingFunction}\n        position=\"bottom\"\n        placementFallbacks={['top']}\n        zIndex={zIndex}\n        onPlacementChange={(placement: string) => {\n          const nextDirection = placement === 'top' ? 'column-reverse' : 'column';\n\n          if (direction !== nextDirection) {\n            onDirectionChange && onDirectionChange(nextDirection);\n          }\n        }}\n        modifiers={[\n          {\n            // @ts-ignore\n            name: 'sameWidth',\n            enabled: true,\n            phase: 'beforeWrite',\n            requires: ['computeStyles'],\n            fn: ({ state }) => {\n              // eslint-disable-next-line no-param-reassign\n              state.styles.popper.width = `${state.rects.reference.width}px`;\n            },\n            effect: ({ state }) => {\n              // eslint-disable-next-line no-param-reassign\n              state.elements.popper.style.width = `${state.elements.reference.offsetWidth}px`;\n            },\n          },\n        ]}\n      >\n        <Paper<'div'>\n          component={(dropdownComponent || 'div') as any}\n          id={`${uuid}-items`}\n          aria-labelledby={`${uuid}-label`}\n          role=\"listbox\"\n          className={classes.dropdown}\n          shadow={shadow}\n          ref={ref}\n          style={{\n            maxHeight: maxDropdownHeight,\n            flexDirection: direction,\n          }}\n          onMouseDown={(event) => event.preventDefault()}\n        >\n          {children}\n        </Paper>\n      </Popper>\n    );\n  }\n);\n\nSelectDropdown.displayName = '@mantine/core/SelectDropdown';\n"],"names":["forwardRef","useStyles","React","Popper","Paper"],"mappings":";;;;;;;;;;;;;AAIY,MAAC,cAAc,GAAGA,gBAAU,CAAC,CAAC;AAC1C,EAAE,OAAO;AACT,EAAE,UAAU;AACZ,EAAE,kBAAkB;AACpB,EAAE,wBAAwB;AAC1B,EAAE,IAAI;AACN,EAAE,MAAM;AACR,EAAE,iBAAiB;AACnB,EAAE,QAAQ;AACV,EAAE,UAAU;AACZ,EAAE,MAAM;AACR,EAAE,iBAAiB;AACnB,EAAE,gBAAgB;AAClB,EAAE,SAAS,GAAG,QAAQ;AACtB,EAAE,iBAAiB;AACnB,EAAE,MAAM,GAAG,GAAG;AACd,EAAE,gBAAgB;AAClB,CAAC,EAAE,GAAG,KAAK;AACX,EAAE,MAAM,EAAE,OAAO,EAAE,GAAGC,gCAAS,CAAC,IAAI,EAAE,EAAE,UAAU,EAAE,MAAM,EAAE,IAAI,EAAE,gBAAgB,EAAE,CAAC,CAAC;AACtF,EAAE,uBAAuBC,cAAK,CAAC,aAAa,CAACC,aAAM,EAAE;AACrD,IAAI,gBAAgB;AACpB,IAAI,OAAO;AACX,IAAI,UAAU;AACd,IAAI,kBAAkB;AACtB,IAAI,wBAAwB;AAC5B,IAAI,QAAQ,EAAE,QAAQ;AACtB,IAAI,kBAAkB,EAAE,CAAC,KAAK,CAAC;AAC/B,IAAI,MAAM;AACV,IAAI,iBAAiB,EAAE,CAAC,SAAS,KAAK;AACtC,MAAM,MAAM,aAAa,GAAG,SAAS,KAAK,KAAK,GAAG,gBAAgB,GAAG,QAAQ,CAAC;AAC9E,MAAM,IAAI,SAAS,KAAK,aAAa,EAAE;AACvC,QAAQ,iBAAiB,IAAI,iBAAiB,CAAC,aAAa,CAAC,CAAC;AAC9D,OAAO;AACP,KAAK;AACL,IAAI,SAAS,EAAE;AACf,MAAM;AACN,QAAQ,IAAI,EAAE,WAAW;AACzB,QAAQ,OAAO,EAAE,IAAI;AACrB,QAAQ,KAAK,EAAE,aAAa;AAC5B,QAAQ,QAAQ,EAAE,CAAC,eAAe,CAAC;AACnC,QAAQ,EAAE,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK;AAC3B,UAAU,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;AACzE,SAAS;AACT,QAAQ,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK;AAC/B,UAAU,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,EAAE,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;AAC1F,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG,kBAAkBD,cAAK,CAAC,aAAa,CAACE,WAAK,EAAE;AAChD,IAAI,SAAS,EAAE,iBAAiB,IAAI,KAAK;AACzC,IAAI,EAAE,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC;AACvB,IAAI,iBAAiB,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC;AACtC,IAAI,IAAI,EAAE,SAAS;AACnB,IAAI,SAAS,EAAE,OAAO,CAAC,QAAQ;AAC/B,IAAI,MAAM;AACV,IAAI,GAAG;AACP,IAAI,KAAK,EAAE;AACX,MAAM,SAAS,EAAE,iBAAiB;AAClC,MAAM,aAAa,EAAE,SAAS;AAC9B,KAAK;AACL,IAAI,WAAW,EAAE,CAAC,KAAK,KAAK,KAAK,CAAC,cAAc,EAAE;AAClD,GAAG,EAAE,QAAQ,CAAC,CAAC,CAAC;AAChB,CAAC,EAAE;AACH,cAAc,CAAC,WAAW,GAAG,8BAA8B;;;;"}