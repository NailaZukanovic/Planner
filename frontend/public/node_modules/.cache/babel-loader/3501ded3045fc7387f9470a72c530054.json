{"ast":null,"code":"import { createCollection as e } from \"@radix-ui/react-collection\";\nimport { Primitive as t } from \"@radix-ui/react-primitive\";\nimport { useSize as n } from \"@radix-ui/react-use-size\";\nimport { usePrevious as r } from \"@radix-ui/react-use-previous\";\nimport { useDirection as o } from \"@radix-ui/react-use-direction\";\nimport { useControllableState as i } from \"@radix-ui/react-use-controllable-state\";\nimport { createContextScope as a } from \"@radix-ui/react-context\";\nimport { useComposedRefs as l } from \"@radix-ui/react-compose-refs\";\nimport { composeEventHandlers as d } from \"@radix-ui/primitive\";\nimport { clamp as s } from \"@radix-ui/number\";\nimport * as u from \"react\";\nimport c from \"@babel/runtime/helpers/esm/extends\";\nconst m = [\"PageUp\", \"PageDown\"],\n      f = [\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"],\n      p = {\n  ltr: [\"ArrowDown\", \"Home\", \"ArrowLeft\", \"PageDown\"],\n  rtl: [\"ArrowDown\", \"Home\", \"ArrowRight\", \"PageDown\"]\n},\n      [S, h, v] = e(\"Slider\"),\n      [w, g] = a(\"Slider\", [v]);\nexport { g as createSliderScope };\nconst [x, b] = w(\"Slider\");\nexport const Slider = /*#__PURE__*/u.forwardRef((e, t) => {\n  const {\n    name: n,\n    min: r = 0,\n    max: o = 100,\n    step: a = 1,\n    orientation: d = \"horizontal\",\n    disabled: p = !1,\n    minStepsBetweenThumbs: h = 0,\n    defaultValue: v = [r],\n    value: w,\n    onValueChange: g = () => {},\n    ...b\n  } = e,\n        [E, y] = u.useState(null),\n        _ = l(t, e => y(e)),\n        M = u.useRef(new Set()),\n        K = u.useRef(0),\n        T = \"horizontal\" === d,\n        k = !E || Boolean(E.closest(\"form\")),\n        C = T ? R : D,\n        [I = [], z] = i({\n    prop: w,\n    defaultProp: v,\n    onChange: e => {\n      var t;\n      null === (t = [...M.current][K.current]) || void 0 === t || t.focus(), g(e);\n    }\n  });\n\n  function A(e, t) {\n    const n = function (e) {\n      return (String(e).split(\".\")[1] || \"\").length;\n    }(a),\n          i = function (e, t) {\n      const n = Math.pow(10, t);\n      return Math.round(e * n) / n;\n    }(Math.round((e - r) / a) * a + r, n),\n          l = s(i, [r, o]);\n\n    z(function () {\n      let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      const n = function () {\n        let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        let t = arguments.length > 1 ? arguments[1] : undefined;\n        let n = arguments.length > 2 ? arguments[2] : undefined;\n        const r = [...e];\n        return r[n] = t, r.sort((e, t) => e - t);\n      }(e, l, t);\n\n      return function (e, t) {\n        if (t > 0) {\n          const n = function (e) {\n            return e.slice(0, -1).map((t, n) => e[n + 1] - t);\n          }(e);\n\n          return Math.min(...n) >= t;\n        }\n\n        return !0;\n      }(n, h * a) ? (K.current = n.indexOf(l), String(n) === String(e) ? e : n) : e;\n    });\n  }\n  /*#__PURE__*/\n\n\n  return u.createElement(x, {\n    scope: e.__scopeSlider,\n    disabled: p,\n    min: r,\n    max: o,\n    valueIndexToChangeRef: K,\n    thumbs: M.current,\n    values: I,\n    orientation: d\n  }, /*#__PURE__*/u.createElement(S.Provider, {\n    scope: e.__scopeSlider\n  }, /*#__PURE__*/u.createElement(S.Slot, {\n    scope: e.__scopeSlider\n  }, /*#__PURE__*/u.createElement(C, c({\n    \"aria-disabled\": p,\n    \"data-disabled\": p ? \"\" : void 0\n  }, b, {\n    ref: _,\n    min: r,\n    max: o,\n    onSlideStart: p ? void 0 : function (e) {\n      A(e, function (e, t) {\n        if (1 === e.length) return 0;\n        const n = e.map(e => Math.abs(e - t)),\n              r = Math.min(...n);\n        return n.indexOf(r);\n      }(I, e));\n    },\n    onSlideMove: p ? void 0 : function (e) {\n      A(e, K.current);\n    },\n    onHomeKeyDown: () => !p && A(r, 0),\n    onEndKeyDown: () => !p && A(o, I.length - 1),\n    onStepKeyDown: _ref => {\n      let {\n        event: e,\n        direction: t\n      } = _ref;\n\n      if (!p) {\n        const n = m.includes(e.key) || e.shiftKey && f.includes(e.key) ? 10 : 1,\n              r = K.current;\n        A(I[r] + a * n * t, r);\n      }\n    }\n  })))), k && I.map((e, t) => /*#__PURE__*/u.createElement(P, {\n    key: t,\n    name: n ? n + (I.length > 1 ? \"[]\" : \"\") : void 0,\n    value: e\n  })));\n});\n/*#__PURE__*/\n\nconst [E, y] = w(\"Slider\", {\n  startEdge: \"left\",\n  endEdge: \"right\",\n  size: \"width\",\n  direction: 1\n}),\n      R = /*#__PURE__*/u.forwardRef((e, t) => {\n  const {\n    min: n,\n    max: r,\n    dir: i,\n    onSlideStart: a,\n    onSlideMove: d,\n    onStepKeyDown: s,\n    ...m\n  } = e,\n        [f, S] = u.useState(null),\n        h = l(t, e => S(e)),\n        v = u.useRef(),\n        w = o(f, i),\n        g = \"ltr\" === w;\n\n  function x(e) {\n    const t = v.current || f.getBoundingClientRect(),\n          o = T([0, t.width], g ? [n, r] : [r, n]);\n    return v.current = t, o(e - t.left);\n  }\n  /*#__PURE__*/\n\n\n  return u.createElement(E, {\n    scope: e.__scopeSlider,\n    startEdge: g ? \"left\" : \"right\",\n    endEdge: g ? \"right\" : \"left\",\n    direction: g ? 1 : -1,\n    size: \"width\"\n  }, /*#__PURE__*/u.createElement(_, c({\n    \"data-orientation\": \"horizontal\"\n  }, m, {\n    ref: h,\n    style: { ...m.style,\n      \"--radix-slider-thumb-transform\": \"translateX(-50%)\"\n    },\n    onSlideStart: e => {\n      const t = x(e.clientX);\n      null == a || a(t);\n    },\n    onSlideMove: e => {\n      const t = x(e.clientX);\n      null == d || d(t);\n    },\n    onSlideEnd: () => v.current = void 0,\n    onStepKeyDown: e => {\n      const t = p[w].includes(e.key);\n      null == s || s({\n        event: e,\n        direction: t ? -1 : 1\n      });\n    }\n  })));\n}),\n      D = /*#__PURE__*/u.forwardRef((e, t) => {\n  const {\n    min: n,\n    max: r,\n    onSlideStart: o,\n    onSlideMove: i,\n    onStepKeyDown: a,\n    ...d\n  } = e,\n        s = u.useRef(null),\n        m = l(t, s),\n        f = u.useRef();\n\n  function S(e) {\n    const t = f.current || s.current.getBoundingClientRect(),\n          o = T([0, t.height], [r, n]);\n    return f.current = t, o(e - t.top);\n  }\n  /*#__PURE__*/\n\n\n  return u.createElement(E, {\n    scope: e.__scopeSlider,\n    startEdge: \"bottom\",\n    endEdge: \"top\",\n    size: \"height\",\n    direction: 1\n  }, /*#__PURE__*/u.createElement(_, c({\n    \"data-orientation\": \"vertical\"\n  }, d, {\n    ref: m,\n    style: { ...d.style,\n      \"--radix-slider-thumb-transform\": \"translateY(50%)\"\n    },\n    onSlideStart: e => {\n      const t = S(e.clientY);\n      null == o || o(t);\n    },\n    onSlideMove: e => {\n      const t = S(e.clientY);\n      null == i || i(t);\n    },\n    onSlideEnd: () => f.current = void 0,\n    onStepKeyDown: e => {\n      const t = p.ltr.includes(e.key);\n      null == a || a({\n        event: e,\n        direction: t ? -1 : 1\n      });\n    }\n  })));\n}),\n      _ = /*#__PURE__*/u.forwardRef((e, n) => {\n  const {\n    __scopeSlider: r,\n    onSlideStart: o,\n    onSlideMove: i,\n    onSlideEnd: a,\n    onHomeKeyDown: l,\n    onEndKeyDown: s,\n    onStepKeyDown: p,\n    ...S\n  } = e,\n        h = b(\"Slider\", r);\n  /*#__PURE__*/\n\n  return u.createElement(t.span, c({}, S, {\n    ref: n,\n    onKeyDown: d(e.onKeyDown, e => {\n      \"Home\" === e.key ? l(e) : \"End\" === e.key ? s(e) : m.concat(f).includes(e.key) && (p(e), e.preventDefault());\n    }),\n    onPointerDown: d(e.onPointerDown, e => {\n      const t = e.target;\n      t.setPointerCapture(e.pointerId), e.preventDefault(), h.thumbs.has(t) ? t.focus() : o(e);\n    }),\n    onPointerMove: d(e.onPointerMove, e => {\n      e.target.hasPointerCapture(e.pointerId) && i(e);\n    }),\n    onPointerUp: d(e.onPointerUp, e => {\n      const t = e.target;\n      t.hasPointerCapture(e.pointerId) && (t.releasePointerCapture(e.pointerId), a(e));\n    })\n  }));\n});\n\nexport const SliderTrack = /*#__PURE__*/u.forwardRef((e, n) => {\n  const {\n    __scopeSlider: r,\n    ...o\n  } = e,\n        i = b(\"SliderTrack\", r);\n  /*#__PURE__*/\n\n  return u.createElement(t.span, c({\n    \"data-disabled\": i.disabled ? \"\" : void 0,\n    \"data-orientation\": i.orientation\n  }, o, {\n    ref: n\n  }));\n});\n/*#__PURE__*/\n\nexport const SliderRange = /*#__PURE__*/u.forwardRef((e, n) => {\n  const {\n    __scopeSlider: r,\n    ...o\n  } = e,\n        i = b(\"SliderRange\", r),\n        a = y(\"SliderRange\", r),\n        d = u.useRef(null),\n        s = l(n, d),\n        m = i.values.length,\n        f = i.values.map(e => K(e, i.min, i.max)),\n        p = m > 1 ? Math.min(...f) : 0,\n        S = 100 - Math.max(...f);\n  /*#__PURE__*/\n\n  return u.createElement(t.span, c({\n    \"data-orientation\": i.orientation,\n    \"data-disabled\": i.disabled ? \"\" : void 0\n  }, o, {\n    ref: s,\n    style: { ...e.style,\n      [a.startEdge]: p + \"%\",\n      [a.endEdge]: S + \"%\"\n    }\n  }));\n});\n/*#__PURE__*/\n\nexport const SliderThumb = /*#__PURE__*/u.forwardRef((e, t) => {\n  const n = h(e.__scopeSlider),\n        [r, o] = u.useState(null),\n        i = l(t, e => o(e)),\n        a = u.useMemo(() => r ? n().findIndex(e => e.ref.current === r) : -1, [n, r]);\n  /*#__PURE__*/\n\n  return u.createElement(M, c({}, e, {\n    ref: i,\n    index: a\n  }));\n});\n\nconst M = /*#__PURE__*/u.forwardRef((e, r) => {\n  const {\n    __scopeSlider: o,\n    index: i,\n    ...a\n  } = e,\n        s = b(\"SliderThumb\", o),\n        m = y(\"SliderThumb\", o),\n        [f, p] = u.useState(null),\n        h = l(r, e => p(e)),\n        v = n(f),\n        w = s.values[i],\n        g = void 0 === w ? 0 : K(w, s.min, s.max),\n        x = function (e, t) {\n    return t > 2 ? `Value ${e + 1} of ${t}` : 2 === t ? [\"Minimum\", \"Maximum\"][e] : void 0;\n  }(i, s.values.length),\n        E = null == v ? void 0 : v[m.size],\n        R = E ? function (e, t, n) {\n    const r = e / 2,\n          o = T([0, 50], [0, r]);\n    return (r - o(t) * n) * n;\n  }(E, g, m.direction) : 0;\n\n  return u.useEffect(() => {\n    if (f) return s.thumbs.add(f), () => {\n      s.thumbs.delete(f);\n    };\n  }, [f, s.thumbs]), /*#__PURE__*/u.createElement(\"span\", {\n    style: {\n      transform: \"var(--radix-slider-thumb-transform)\",\n      position: \"absolute\",\n      [m.startEdge]: `calc(${g}% + ${R}px)`\n    }\n  }, /*#__PURE__*/u.createElement(S.ItemSlot, {\n    scope: e.__scopeSlider\n  }, /*#__PURE__*/u.createElement(t.span, c({\n    role: \"slider\",\n    \"aria-label\": e[\"aria-label\"] || x,\n    \"aria-valuemin\": s.min,\n    \"aria-valuenow\": w,\n    \"aria-valuemax\": s.max,\n    \"aria-orientation\": s.orientation,\n    \"data-orientation\": s.orientation,\n    \"data-disabled\": s.disabled ? \"\" : void 0,\n    tabIndex: s.disabled ? void 0 : 0\n  }, a, {\n    ref: h,\n    style: void 0 === w ? {\n      display: \"none\"\n    } : e.style,\n    onFocus: d(e.onFocus, () => {\n      s.valueIndexToChangeRef.current = i;\n    })\n  }))));\n}),\n      P = e => {\n  const {\n    value: t,\n    ...n\n  } = e,\n        o = u.useRef(null),\n        i = r(t);\n  return u.useEffect(() => {\n    const e = o.current,\n          n = window.HTMLInputElement.prototype,\n          r = Object.getOwnPropertyDescriptor(n, \"value\").set;\n\n    if (i !== t && r) {\n      const n = new Event(\"input\", {\n        bubbles: !0\n      });\n      r.call(e, t), e.dispatchEvent(n);\n    }\n  }, [i, t]), /*#__PURE__*/u.createElement(\"input\", c({\n    style: {\n      display: \"none\"\n    }\n  }, n, {\n    ref: o,\n    defaultValue: t\n  }));\n};\n/*#__PURE__*/\n\n\nfunction K(e, t, n) {\n  return 100 / (n - t) * (e - t);\n}\n\nfunction T(e, t) {\n  return n => {\n    if (e[0] === e[1] || t[0] === t[1]) return t[0];\n    const r = (t[1] - t[0]) / (e[1] - e[0]);\n    return t[0] + r * (n - e[0]);\n  };\n}\n\nexport const Root = Slider;\nexport const Track = SliderTrack;\nexport const Range = SliderRange;\nexport const Thumb = SliderThumb;","map":{"version":3,"sources":["packages/react/slider/src/Slider.tsx"],"names":["PAGE_KEYS","ARROW_KEYS","BACK_KEYS","ltr","rtl","Collection","useCollection","createCollectionScope","createCollection","createSliderContext","createSliderScope","createContextScope","SliderProvider","useSliderContext","Slider","React","forwardRef","props","forwardedRef","name","min","max","step","orientation","disabled","minStepsBetweenThumbs","defaultValue","value","onValueChange","sliderProps","slider","setSlider","useState","composedRefs","useComposedRefs","node","thumbRefs","useRef","Set","valueIndexToChangeRef","isHorizontal","isFormControl","Boolean","closest","SliderOrientation","SliderHorizontal","SliderVertical","values","setValues","useControllableState","prop","defaultProp","onChange","current","focus","getClosestValueIndex","updateValues","atIndex","decimalCount","getDecimalCount","snapToStep","roundValue","Math","round","nextValue","clamp","prevValues","nextValues","getNextSortedValues","hasMinStepsBetweenValues","indexOf","String","_react","$a68403ced9538b15d14f377d3c557e$var$SliderProvider","scope","__scopeSlider","thumbs","$a68403ced9538b15d14f377d3c557e$var$Collection","Provider","Slot","undefined","ref","onSlideStart","onSlideMove","onHomeKeyDown","onEndKeyDown","length","onStepKeyDown","event","direction","stepDirection","includes","key","shiftKey","multiplier","map","index","$a68403ced9538b15d14f377d3c557e$var$BubbleInput","SliderOrientationProvider","useSliderOrientationContext","startEdge","endEdge","size","dir","rectRef","useDirection","isDirectionLTR","getValueFromPointer","pointerPosition","rect","getBoundingClientRect","width","linearScale","left","$a68403ced9538b15d14f377d3c557e$var$SliderOrientationProvider","$a68403ced9538b15d14f377d3c557e$var$SliderImpl","style","clientX","onSlideEnd","isBackKey","sliderRef","height","top","clientY","SliderImpl","context","Primitive","span","onKeyDown","composeEventHandlers","concat","preventDefault","onPointerDown","target","setPointerCapture","pointerId","has","onPointerMove","hasPointerCapture","onPointerUp","releasePointerCapture","SliderTrack","trackProps","SliderRange","rangeProps","valuesCount","percentages","convertValueToPercentage","offsetStart","offsetEnd","SliderThumb","getItems","thumb","setThumb","useMemo","findIndex","item","$a68403ced9538b15d14f377d3c557e$var$SliderThumbImpl","SliderThumbImpl","thumbProps","useSize","percent","label","getLabel","orientationSize","thumbInBoundsOffset","getThumbInBoundsOffset","useEffect","add","delete","transform","position","ItemSlot","role","tabIndex","display","onFocus","BubbleInput","inputProps","prevValue","usePrevious","input","inputProto","window","HTMLInputElement","prototype","Object","getOwnPropertyDescriptor","setValue","set","Event","bubbles","call","dispatchEvent","sort","a","b","totalValues","distances","abs","closestDistance","halfWidth","offset","slice","minStepsBetweenValues","stepsBetweenValues","getStepsBetweenValues","output","ratio","split","rounder","pow","Root","Track","Range","Thumb"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { clamp } from '@radix-ui/number';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useDirection } from '@radix-ui/react-use-direction';\nimport { usePrevious } from '@radix-ui/react-use-previous';\nimport { useSize } from '@radix-ui/react-use-size';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { createCollection } from '@radix-ui/react-collection';\n\nimport type * as Radix from '@radix-ui/react-primitive';\nimport type { Scope } from '@radix-ui/react-context';\n\ntype Direction = 'ltr' | 'rtl';\n\nconst PAGE_KEYS = ['PageUp', 'PageDown'];\nconst ARROW_KEYS = ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'];\n\nconst BACK_KEYS: Record<Direction, string[]> = {\n  ltr: ['ArrowDown', 'Home', 'ArrowLeft', 'PageDown'],\n  rtl: ['ArrowDown', 'Home', 'ArrowRight', 'PageDown'],\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Slider\n * -----------------------------------------------------------------------------------------------*/\n\nconst SLIDER_NAME = 'Slider';\n\nconst [Collection, useCollection, createCollectionScope] = createCollection<SliderThumbElement, {}>(\n  SLIDER_NAME\n);\ntype ScopedProps<P> = P & { __scopeSlider?: Scope };\nconst [createSliderContext, createSliderScope] = createContextScope(SLIDER_NAME, [\n  createCollectionScope,\n]);\n\ntype SliderContextValue = {\n  disabled?: boolean;\n  min: number;\n  max: number;\n  values: number[];\n  valueIndexToChangeRef: React.MutableRefObject<number>;\n  thumbs: Set<SliderThumbElement>;\n  orientation: SliderProps['orientation'];\n};\n\nconst [SliderProvider, useSliderContext] = createSliderContext<SliderContextValue>(SLIDER_NAME);\n\ntype SliderElement = SliderHorizontalElement | SliderVerticalElement;\ninterface SliderProps\n  extends Omit<\n    SliderHorizontalProps | SliderVerticalProps,\n    keyof SliderOrientationPrivateProps | 'defaultValue'\n  > {\n  name?: string;\n  disabled?: boolean;\n  orientation?: React.AriaAttributes['aria-orientation'];\n  dir?: Direction;\n  min?: number;\n  max?: number;\n  step?: number;\n  minStepsBetweenThumbs?: number;\n  value?: number[];\n  defaultValue?: number[];\n  onValueChange?(value: number[]): void;\n}\n\nconst Slider = React.forwardRef<SliderElement, SliderProps>(\n  (props: ScopedProps<SliderProps>, forwardedRef) => {\n    const {\n      name,\n      min = 0,\n      max = 100,\n      step = 1,\n      orientation = 'horizontal',\n      disabled = false,\n      minStepsBetweenThumbs = 0,\n      defaultValue = [min],\n      value,\n      onValueChange = () => {},\n      ...sliderProps\n    } = props;\n    const [slider, setSlider] = React.useState<HTMLSpanElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setSlider(node));\n    const thumbRefs = React.useRef<SliderContextValue['thumbs']>(new Set());\n    const valueIndexToChangeRef = React.useRef<number>(0);\n    const isHorizontal = orientation === 'horizontal';\n    // We set this to true by default so that events bubble to forms without JS (SSR)\n    const isFormControl = slider ? Boolean(slider.closest('form')) : true;\n    const SliderOrientation = isHorizontal ? SliderHorizontal : SliderVertical;\n\n    const [values = [], setValues] = useControllableState({\n      prop: value,\n      defaultProp: defaultValue,\n      onChange: (value) => {\n        const thumbs = [...thumbRefs.current];\n        thumbs[valueIndexToChangeRef.current]?.focus();\n        onValueChange(value);\n      },\n    });\n\n    function handleSlideStart(value: number) {\n      const closestIndex = getClosestValueIndex(values, value);\n      updateValues(value, closestIndex);\n    }\n\n    function handleSlideMove(value: number) {\n      updateValues(value, valueIndexToChangeRef.current);\n    }\n\n    function updateValues(value: number, atIndex: number) {\n      const decimalCount = getDecimalCount(step);\n      const snapToStep = roundValue(Math.round((value - min) / step) * step + min, decimalCount);\n      const nextValue = clamp(snapToStep, [min, max]);\n\n      setValues((prevValues = []) => {\n        const nextValues = getNextSortedValues(prevValues, nextValue, atIndex);\n        if (hasMinStepsBetweenValues(nextValues, minStepsBetweenThumbs * step)) {\n          valueIndexToChangeRef.current = nextValues.indexOf(nextValue);\n          return String(nextValues) === String(prevValues) ? prevValues : nextValues;\n        } else {\n          return prevValues;\n        }\n      });\n    }\n\n    return (\n      <SliderProvider\n        scope={props.__scopeSlider}\n        disabled={disabled}\n        min={min}\n        max={max}\n        valueIndexToChangeRef={valueIndexToChangeRef}\n        thumbs={thumbRefs.current}\n        values={values}\n        orientation={orientation}\n      >\n        <Collection.Provider scope={props.__scopeSlider}>\n          <Collection.Slot scope={props.__scopeSlider}>\n            <SliderOrientation\n              aria-disabled={disabled}\n              data-disabled={disabled ? '' : undefined}\n              {...sliderProps}\n              ref={composedRefs}\n              min={min}\n              max={max}\n              onSlideStart={disabled ? undefined : handleSlideStart}\n              onSlideMove={disabled ? undefined : handleSlideMove}\n              onHomeKeyDown={() => !disabled && updateValues(min, 0)}\n              onEndKeyDown={() => !disabled && updateValues(max, values.length - 1)}\n              onStepKeyDown={({ event, direction: stepDirection }) => {\n                if (!disabled) {\n                  const isPageKey = PAGE_KEYS.includes(event.key);\n                  const isSkipKey = isPageKey || (event.shiftKey && ARROW_KEYS.includes(event.key));\n                  const multiplier = isSkipKey ? 10 : 1;\n                  const atIndex = valueIndexToChangeRef.current;\n                  const value = values[atIndex];\n                  const stepInDirection = step * multiplier * stepDirection;\n                  updateValues(value + stepInDirection, atIndex);\n                }\n              }}\n            />\n          </Collection.Slot>\n        </Collection.Provider>\n        {isFormControl &&\n          values.map((value, index) => (\n            <BubbleInput\n              key={index}\n              name={name ? name + (values.length > 1 ? '[]' : '') : undefined}\n              value={value}\n            />\n          ))}\n      </SliderProvider>\n    );\n  }\n);\n\nSlider.displayName = SLIDER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SliderHorizontal\n * -----------------------------------------------------------------------------------------------*/\n\nconst [SliderOrientationProvider, useSliderOrientationContext] = createSliderContext<{\n  startEdge: 'bottom' | 'left' | 'right';\n  endEdge: 'top' | 'right' | 'left';\n  size: keyof NonNullable<ReturnType<typeof useSize>>;\n  direction: number;\n}>(SLIDER_NAME, {\n  startEdge: 'left',\n  endEdge: 'right',\n  size: 'width',\n  direction: 1,\n});\n\ntype SliderOrientationPrivateProps = {\n  min: number;\n  max: number;\n  onSlideStart?(value: number): void;\n  onSlideMove?(value: number): void;\n  onHomeKeyDown(event: React.KeyboardEvent): void;\n  onEndKeyDown(event: React.KeyboardEvent): void;\n  onStepKeyDown(step: { event: React.KeyboardEvent; direction: number }): void;\n};\ninterface SliderOrientationProps\n  extends Omit<SliderImplProps, keyof SliderImplPrivateProps>,\n    SliderOrientationPrivateProps {}\n\ntype SliderHorizontalElement = SliderImplElement;\ninterface SliderHorizontalProps extends SliderOrientationProps {\n  dir?: Direction;\n}\n\nconst SliderHorizontal = React.forwardRef<SliderHorizontalElement, SliderHorizontalProps>(\n  (props: ScopedProps<SliderHorizontalProps>, forwardedRef) => {\n    const { min, max, dir, onSlideStart, onSlideMove, onStepKeyDown, ...sliderProps } = props;\n    const [slider, setSlider] = React.useState<SliderImplElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setSlider(node));\n    const rectRef = React.useRef<ClientRect>();\n    const direction = useDirection(slider, dir);\n    const isDirectionLTR = direction === 'ltr';\n\n    function getValueFromPointer(pointerPosition: number) {\n      const rect = rectRef.current || slider!.getBoundingClientRect();\n      const input: [number, number] = [0, rect.width];\n      const output: [number, number] = isDirectionLTR ? [min, max] : [max, min];\n      const value = linearScale(input, output);\n\n      rectRef.current = rect;\n      return value(pointerPosition - rect.left);\n    }\n\n    return (\n      <SliderOrientationProvider\n        scope={props.__scopeSlider}\n        startEdge={isDirectionLTR ? 'left' : 'right'}\n        endEdge={isDirectionLTR ? 'right' : 'left'}\n        direction={isDirectionLTR ? 1 : -1}\n        size=\"width\"\n      >\n        <SliderImpl\n          data-orientation=\"horizontal\"\n          {...sliderProps}\n          ref={composedRefs}\n          style={{\n            ...sliderProps.style,\n            ['--radix-slider-thumb-transform' as any]: 'translateX(-50%)',\n          }}\n          onSlideStart={(event) => {\n            const value = getValueFromPointer(event.clientX);\n            onSlideStart?.(value);\n          }}\n          onSlideMove={(event) => {\n            const value = getValueFromPointer(event.clientX);\n            onSlideMove?.(value);\n          }}\n          onSlideEnd={() => (rectRef.current = undefined)}\n          onStepKeyDown={(event) => {\n            const isBackKey = BACK_KEYS[direction].includes(event.key);\n            onStepKeyDown?.({ event, direction: isBackKey ? -1 : 1 });\n          }}\n        />\n      </SliderOrientationProvider>\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * SliderVertical\n * -----------------------------------------------------------------------------------------------*/\n\ntype SliderVerticalElement = SliderImplElement;\ninterface SliderVerticalProps extends SliderOrientationProps {}\n\nconst SliderVertical = React.forwardRef<SliderVerticalElement, SliderVerticalProps>(\n  (props: ScopedProps<SliderVerticalProps>, forwardedRef) => {\n    const { min, max, onSlideStart, onSlideMove, onStepKeyDown, ...sliderProps } = props;\n    const sliderRef = React.useRef<SliderImplElement>(null);\n    const ref = useComposedRefs(forwardedRef, sliderRef);\n    const rectRef = React.useRef<ClientRect>();\n\n    function getValueFromPointer(pointerPosition: number) {\n      const rect = rectRef.current || sliderRef.current!.getBoundingClientRect();\n      const input: [number, number] = [0, rect.height];\n      const output: [number, number] = [max, min];\n      const value = linearScale(input, output);\n\n      rectRef.current = rect;\n      return value(pointerPosition - rect.top);\n    }\n\n    return (\n      <SliderOrientationProvider\n        scope={props.__scopeSlider}\n        startEdge=\"bottom\"\n        endEdge=\"top\"\n        size=\"height\"\n        direction={1}\n      >\n        <SliderImpl\n          data-orientation=\"vertical\"\n          {...sliderProps}\n          ref={ref}\n          style={{\n            ...sliderProps.style,\n            ['--radix-slider-thumb-transform' as any]: 'translateY(50%)',\n          }}\n          onSlideStart={(event) => {\n            const value = getValueFromPointer(event.clientY);\n            onSlideStart?.(value);\n          }}\n          onSlideMove={(event) => {\n            const value = getValueFromPointer(event.clientY);\n            onSlideMove?.(value);\n          }}\n          onSlideEnd={() => (rectRef.current = undefined)}\n          onStepKeyDown={(event) => {\n            const isBackKey = BACK_KEYS.ltr.includes(event.key);\n            onStepKeyDown?.({ event, direction: isBackKey ? -1 : 1 });\n          }}\n        />\n      </SliderOrientationProvider>\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * SliderImpl\n * -----------------------------------------------------------------------------------------------*/\n\ntype SliderImplElement = React.ElementRef<typeof Primitive.span>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ntype SliderImplPrivateProps = {\n  onSlideStart(event: React.PointerEvent): void;\n  onSlideMove(event: React.PointerEvent): void;\n  onSlideEnd(event: React.PointerEvent): void;\n  onHomeKeyDown(event: React.KeyboardEvent): void;\n  onEndKeyDown(event: React.KeyboardEvent): void;\n  onStepKeyDown(event: React.KeyboardEvent): void;\n};\ninterface SliderImplProps extends PrimitiveDivProps, SliderImplPrivateProps {}\n\nconst SliderImpl = React.forwardRef<SliderImplElement, SliderImplProps>(\n  (props: ScopedProps<SliderImplProps>, forwardedRef) => {\n    const {\n      __scopeSlider,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onHomeKeyDown,\n      onEndKeyDown,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const context = useSliderContext(SLIDER_NAME, __scopeSlider);\n\n    return (\n      <Primitive.span\n        {...sliderProps}\n        ref={forwardedRef}\n        onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n          if (event.key === 'Home') {\n            onHomeKeyDown(event);\n          } else if (event.key === 'End') {\n            onEndKeyDown(event);\n          } else if (PAGE_KEYS.concat(ARROW_KEYS).includes(event.key)) {\n            onStepKeyDown(event);\n            // Prevent scrolling for directional key presses\n            event.preventDefault();\n          }\n        })}\n        onPointerDown={composeEventHandlers(props.onPointerDown, (event) => {\n          const target = event.target as HTMLElement;\n          target.setPointerCapture(event.pointerId);\n          // Prevent browser focus behaviour because we focus a thumb manually when values change.\n          event.preventDefault();\n          // Touch devices have a delay before focusing so won't focus if touch immediately moves\n          // away from target (sliding). We want thumb to focus regardless.\n          if (context.thumbs.has(target)) {\n            target.focus();\n          } else {\n            onSlideStart(event);\n          }\n        })}\n        onPointerMove={composeEventHandlers(props.onPointerMove, (event) => {\n          const target = event.target as HTMLElement;\n          if (target.hasPointerCapture(event.pointerId)) onSlideMove(event);\n        })}\n        onPointerUp={composeEventHandlers(props.onPointerUp, (event) => {\n          const target = event.target as HTMLElement;\n          if (target.hasPointerCapture(event.pointerId)) {\n            target.releasePointerCapture(event.pointerId);\n            onSlideEnd(event);\n          }\n        })}\n      />\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * SliderTrack\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRACK_NAME = 'SliderTrack';\n\ntype SliderTrackElement = React.ElementRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = Radix.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface SliderTrackProps extends PrimitiveSpanProps {}\n\nconst SliderTrack = React.forwardRef<SliderTrackElement, SliderTrackProps>(\n  (props: ScopedProps<SliderTrackProps>, forwardedRef) => {\n    const { __scopeSlider, ...trackProps } = props;\n    const context = useSliderContext(TRACK_NAME, __scopeSlider);\n    return (\n      <Primitive.span\n        data-disabled={context.disabled ? '' : undefined}\n        data-orientation={context.orientation}\n        {...trackProps}\n        ref={forwardedRef}\n      />\n    );\n  }\n);\n\nSliderTrack.displayName = TRACK_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SliderRange\n * -----------------------------------------------------------------------------------------------*/\n\nconst RANGE_NAME = 'SliderRange';\n\ntype SliderRangeElement = React.ElementRef<typeof Primitive.span>;\ninterface SliderRangeProps extends PrimitiveSpanProps {}\n\nconst SliderRange = React.forwardRef<SliderRangeElement, SliderRangeProps>(\n  (props: ScopedProps<SliderRangeProps>, forwardedRef) => {\n    const { __scopeSlider, ...rangeProps } = props;\n    const context = useSliderContext(RANGE_NAME, __scopeSlider);\n    const orientation = useSliderOrientationContext(RANGE_NAME, __scopeSlider);\n    const ref = React.useRef<HTMLSpanElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const valuesCount = context.values.length;\n    const percentages = context.values.map((value) =>\n      convertValueToPercentage(value, context.min, context.max)\n    );\n    const offsetStart = valuesCount > 1 ? Math.min(...percentages) : 0;\n    const offsetEnd = 100 - Math.max(...percentages);\n\n    return (\n      <Primitive.span\n        data-orientation={context.orientation}\n        data-disabled={context.disabled ? '' : undefined}\n        {...rangeProps}\n        ref={composedRefs}\n        style={{\n          ...props.style,\n          [orientation.startEdge]: offsetStart + '%',\n          [orientation.endEdge]: offsetEnd + '%',\n        }}\n      />\n    );\n  }\n);\n\nSliderRange.displayName = RANGE_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SliderThumb\n * -----------------------------------------------------------------------------------------------*/\n\nconst THUMB_NAME = 'SliderThumb';\n\ntype SliderThumbElement = SliderThumbImplElement;\ninterface SliderThumbProps extends Omit<SliderThumbImplProps, 'index'> {}\n\nconst SliderThumb = React.forwardRef<SliderThumbElement, SliderThumbProps>(\n  (props: ScopedProps<SliderThumbProps>, forwardedRef) => {\n    const getItems = useCollection(props.__scopeSlider);\n    const [thumb, setThumb] = React.useState<SliderThumbImplElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setThumb(node));\n    const index = React.useMemo(\n      () => (thumb ? getItems().findIndex((item) => item.ref.current === thumb) : -1),\n      [getItems, thumb]\n    );\n    return <SliderThumbImpl {...props} ref={composedRefs} index={index} />;\n  }\n);\n\ntype SliderThumbImplElement = React.ElementRef<typeof Primitive.span>;\ninterface SliderThumbImplProps extends PrimitiveSpanProps {\n  index: number;\n}\n\nconst SliderThumbImpl = React.forwardRef<SliderThumbImplElement, SliderThumbImplProps>(\n  (props: ScopedProps<SliderThumbImplProps>, forwardedRef) => {\n    const { __scopeSlider, index, ...thumbProps } = props;\n    const context = useSliderContext(THUMB_NAME, __scopeSlider);\n    const orientation = useSliderOrientationContext(THUMB_NAME, __scopeSlider);\n    const [thumb, setThumb] = React.useState<HTMLSpanElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setThumb(node));\n    const size = useSize(thumb);\n    // We cast because index could be `-1` which would return undefined\n    const value = context.values[index] as number | undefined;\n    const percent =\n      value === undefined ? 0 : convertValueToPercentage(value, context.min, context.max);\n    const label = getLabel(index, context.values.length);\n    const orientationSize = size?.[orientation.size];\n    const thumbInBoundsOffset = orientationSize\n      ? getThumbInBoundsOffset(orientationSize, percent, orientation.direction)\n      : 0;\n\n    React.useEffect(() => {\n      if (thumb) {\n        context.thumbs.add(thumb);\n        return () => {\n          context.thumbs.delete(thumb);\n        };\n      }\n    }, [thumb, context.thumbs]);\n\n    return (\n      <span\n        style={{\n          transform: 'var(--radix-slider-thumb-transform)',\n          position: 'absolute',\n          [orientation.startEdge]: `calc(${percent}% + ${thumbInBoundsOffset}px)`,\n        }}\n      >\n        <Collection.ItemSlot scope={props.__scopeSlider}>\n          <Primitive.span\n            role=\"slider\"\n            aria-label={props['aria-label'] || label}\n            aria-valuemin={context.min}\n            aria-valuenow={value}\n            aria-valuemax={context.max}\n            aria-orientation={context.orientation}\n            data-orientation={context.orientation}\n            data-disabled={context.disabled ? '' : undefined}\n            tabIndex={context.disabled ? undefined : 0}\n            {...thumbProps}\n            ref={composedRefs}\n            /**\n             * There will be no value on initial render while we work out the index so we hide thumbs\n             * without a value, otherwise SSR will render them in the wrong position before they\n             * snap into the correct position during hydration which would be visually jarring for\n             * slower connections.\n             */\n            style={value === undefined ? { display: 'none' } : props.style}\n            onFocus={composeEventHandlers(props.onFocus, () => {\n              context.valueIndexToChangeRef.current = index;\n            })}\n          />\n        </Collection.ItemSlot>\n      </span>\n    );\n  }\n);\n\nSliderThumb.displayName = THUMB_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst BubbleInput = (props: Radix.ComponentPropsWithoutRef<'input'>) => {\n  const { value, ...inputProps } = props;\n  const ref = React.useRef<HTMLInputElement>(null);\n  const prevValue = usePrevious(value);\n\n  // Bubble value change to parents (e.g form change event)\n  React.useEffect(() => {\n    const input = ref.current!;\n    const inputProto = window.HTMLInputElement.prototype;\n    const descriptor = Object.getOwnPropertyDescriptor(inputProto, 'value') as PropertyDescriptor;\n    const setValue = descriptor.set;\n    if (prevValue !== value && setValue) {\n      const event = new Event('input', { bubbles: true });\n      setValue.call(input, value);\n      input.dispatchEvent(event);\n    }\n  }, [prevValue, value]);\n\n  /**\n   * We purposefully do not use `type=\"hidden\"` here otherwise forms that\n   * wrap it will not be able to access its value via the FormData API.\n   *\n   * We purposefully do not add the `value` attribute here to allow the value\n   * to be set programatically and bubble to any parent form `onChange` event.\n   * Adding the `value` will cause React to consider the programatic\n   * dispatch a duplicate and it will get swallowed.\n   */\n  return <input style={{ display: 'none' }} {...inputProps} ref={ref} defaultValue={value} />;\n};\n\nfunction getNextSortedValues(prevValues: number[] = [], nextValue: number, atIndex: number) {\n  const nextValues = [...prevValues];\n  nextValues[atIndex] = nextValue;\n  return nextValues.sort((a, b) => a - b);\n}\n\nfunction convertValueToPercentage(value: number, min: number, max: number) {\n  const maxSteps = max - min;\n  const percentPerStep = 100 / maxSteps;\n  return percentPerStep * (value - min);\n}\n\n/**\n * Returns a label for each thumb when there are two or more thumbs\n */\nfunction getLabel(index: number, totalValues: number) {\n  if (totalValues > 2) {\n    return `Value ${index + 1} of ${totalValues}`;\n  } else if (totalValues === 2) {\n    return ['Minimum', 'Maximum'][index];\n  } else {\n    return undefined;\n  }\n}\n\n/**\n * Given a `values` array and a `nextValue`, determine which value in\n * the array is closest to `nextValue` and return its index.\n *\n * @example\n * // returns 1\n * getClosestValueIndex([10, 30], 25);\n */\nfunction getClosestValueIndex(values: number[], nextValue: number) {\n  if (values.length === 1) return 0;\n  const distances = values.map((value) => Math.abs(value - nextValue));\n  const closestDistance = Math.min(...distances);\n  return distances.indexOf(closestDistance);\n}\n\n/**\n * Offsets the thumb centre point while sliding to ensure it remains\n * within the bounds of the slider when reaching the edges\n */\nfunction getThumbInBoundsOffset(width: number, left: number, direction: number) {\n  const halfWidth = width / 2;\n  const halfPercent = 50;\n  const offset = linearScale([0, halfPercent], [0, halfWidth]);\n  return (halfWidth - offset(left) * direction) * direction;\n}\n\n/**\n * Gets an array of steps between each value.\n *\n * @example\n * // returns [1, 9]\n * getStepsBetweenValues([10, 11, 20]);\n */\nfunction getStepsBetweenValues(values: number[]) {\n  return values.slice(0, -1).map((value, index) => values[index + 1] - value);\n}\n\n/**\n * Verifies the minimum steps between all values is greater than or equal\n * to the expected minimum steps.\n *\n * @example\n * // returns false\n * hasMinStepsBetweenValues([1,2,3], 2);\n *\n * @example\n * // returns true\n * hasMinStepsBetweenValues([1,2,3], 1);\n */\nfunction hasMinStepsBetweenValues(values: number[], minStepsBetweenValues: number) {\n  if (minStepsBetweenValues > 0) {\n    const stepsBetweenValues = getStepsBetweenValues(values);\n    const actualMinStepsBetweenValues = Math.min(...stepsBetweenValues);\n    return actualMinStepsBetweenValues >= minStepsBetweenValues;\n  }\n  return true;\n}\n\n// https://github.com/tmcw-up-for-adoption/simple-linear-scale/blob/master/index.js\nfunction linearScale(input: readonly [number, number], output: readonly [number, number]) {\n  return (value: number) => {\n    if (input[0] === input[1] || output[0] === output[1]) return output[0];\n    const ratio = (output[1] - output[0]) / (input[1] - input[0]);\n    return output[0] + ratio * (value - input[0]);\n  };\n}\n\nfunction getDecimalCount(value: number) {\n  return (String(value).split('.')[1] || '').length;\n}\n\nfunction roundValue(value: number, decimalCount: number) {\n  const rounder = Math.pow(10, decimalCount);\n  return Math.round(value * rounder) / rounder;\n}\n\nconst Root = Slider;\nconst Track = SliderTrack;\nconst Range = SliderRange;\nconst Thumb = SliderThumb;\n\nexport {\n  createSliderScope,\n  //\n  Slider,\n  SliderTrack,\n  SliderRange,\n  SliderThumb,\n  //\n  Root,\n  Track,\n  Range,\n  Thumb,\n};\nexport type { SliderProps, SliderTrackProps, SliderRangeProps, SliderThumbProps };\n"]},"metadata":{},"sourceType":"module"}