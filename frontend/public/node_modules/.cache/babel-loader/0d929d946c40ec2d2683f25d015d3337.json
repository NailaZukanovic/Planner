{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Naila\\\\Desktop\\\\projekatSi\\\\frontend\\\\src\\\\Components\\\\Dashboard.jsx\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport Axios from 'axios'; // @connect((store) => {\n//   return {\n//     status: store.weatherStation.status\n//   }\n// })\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst fetchData = region => dispatch => {\n  const {\n    latitude,\n    longitude\n  } = region || {};\n  const getDataByCity = `https://api.openweathermap.org/data/2.5/forecast?q=${region}&units=metric&appid=${APP_ID}`;\n  const getDataByCoords = `https://api.openweathermap.org/data/2.5/forecast?lat=${latitude}&lon=${longitude}&units=metric&appid=${APP_ID}`;\n  let location = typeof region === \"object\" ? getDataByCoords : getDataByCity;\n  return axios.get(location).then(response => {\n    dispatch({\n      type: \"FETCH_DATA_FULFILLED\",\n      payload: response.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: \"FETCH_DATA_REJECTED\",\n      payload: err\n    }); // Error handling\n  });\n};\n\nexport default class Dashboard extends Component {\n  constructor() {\n    super(...arguments);\n\n    this._updateCity = () => {\n      const city = this.__cityInput.value;\n      city.length !== 0 ? this.props.dispatch(fetchData(city)) : null;\n    };\n\n    this._onkeyPress = e => {\n      e.key === \"Enter\" ? this._updateCity() : null;\n    };\n  }\n\n  render() {\n    const {\n      city,\n      status\n    } = this.props;\n    const wrapperClass = status === \"failed\" ? \"weather-dashboard invalid-city\" : \"weather-dashboard\";\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: wrapperClass,\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"heading\",\n          children: \"5-Day Weather Forecast\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"controls\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"city-input\",\n            id: \"city-name\",\n            ref: input => {\n              this.__cityInput = input;\n              return this.__cityInput;\n            },\n            onKeyPress: this._onkeyPress,\n            placeholder: city\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"button\",\n            value: \">\",\n            className: \"search\",\n            onClick: this._updateCity,\n            id: \"change-city-btn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"error\",\n        children: \"Please enter valid city name!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Naila/Desktop/projekatSi/frontend/src/Components/Dashboard.jsx"],"names":["React","Component","connect","Axios","fetchData","region","dispatch","latitude","longitude","getDataByCity","APP_ID","getDataByCoords","location","axios","get","then","response","type","payload","data","catch","err","Dashboard","_updateCity","city","__cityInput","value","length","props","_onkeyPress","e","key","render","status","wrapperClass","input"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;AACA;AACA;AACA;AACA;;;;AAEA,MAAMC,SAAS,GAAIC,MAAD,IAAaC,QAAD,IAAc;AAC1C,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAA0BH,MAAM,IAAI,EAA1C;AAEA,QAAMI,aAAa,GAAI,sDAAqDJ,MAAO,uBAAsBK,MAAO,EAAhH;AACA,QAAMC,eAAe,GAAI,wDAAuDJ,QAAS,QAAOC,SAAU,uBAAsBE,MAAO,EAAvI;AAEA,MAAIE,QAAQ,GAAG,OAAOP,MAAP,KAAmB,QAAnB,GAA8BM,eAA9B,GAAgDF,aAA/D;AAEA,SAAOI,KAAK,CAACC,GAAN,CAAUF,QAAV,EACJG,IADI,CACEC,QAAD,IAAc;AAClBV,IAAAA,QAAQ,CAAC;AAACW,MAAAA,IAAI,EAAG,sBAAR;AAAgCC,MAAAA,OAAO,EAAEF,QAAQ,CAACG;AAAlD,KAAD,CAAR;AACD,GAHI,EAIJC,KAJI,CAIGC,GAAD,IAAS;AACdf,IAAAA,QAAQ,CAAC;AAACW,MAAAA,IAAI,EAAE,qBAAP;AAA8BC,MAAAA,OAAO,EAAEG;AAAvC,KAAD,CAAR,CADc,CACyC;AACxD,GANI,CAAP;AAOD,CAfD;;AAiBA,eAAe,MAAMC,SAAN,SAAwBrB,SAAxB,CAAkC;AAAA;AAAA;;AAAA,SAG/CsB,WAH+C,GAGjC,MAAM;AAClB,YAAMC,IAAI,GAAG,KAAKC,WAAL,CAAiBC,KAA9B;AACAF,MAAAA,IAAI,CAACG,MAAL,KAAgB,CAAhB,GAAoB,KAAKC,KAAL,CAAWtB,QAAX,CAAoBF,SAAS,CAACoB,IAAD,CAA7B,CAApB,GAA2D,IAA3D;AACD,KAN8C;;AAAA,SAQ/CK,WAR+C,GAQjCC,CAAC,IAAI;AACjBA,MAAAA,CAAC,CAACC,GAAF,KAAU,OAAV,GAAoB,KAAKR,WAAL,EAApB,GAAyC,IAAzC;AACD,KAV8C;AAAA;;AAY/CS,EAAAA,MAAM,GAAG;AAEP,UAAM;AAAER,MAAAA,IAAF;AAAQS,MAAAA;AAAR,QAAmB,KAAKL,KAA9B;AACA,UAAMM,YAAY,GAAID,MAAM,KAAK,QAAZ,GAAwB,gCAAxB,GAA2D,mBAAhF;AAEA,wBACE;AAAK,MAAA,SAAS,EAAEC,YAAhB;AAAA,8BACE;AAAA,+BACE;AAAI,UAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAIE;AAAS,QAAA,SAAS,EAAC,UAAnB;AAAA,+BACE;AAAA,kCACE;AACE,YAAA,IAAI,EAAC,MADP;AAEE,YAAA,SAAS,EAAC,YAFZ;AAGE,YAAA,EAAE,EAAC,WAHL;AAIE,YAAA,GAAG,EAAEC,KAAK,IAAI;AACZ,mBAAKV,WAAL,GAAmBU,KAAnB;AACA,qBAAO,KAAKV,WAAZ;AACD,aAPH;AAQE,YAAA,UAAU,EAAE,KAAKI,WARnB;AASE,YAAA,WAAW,EAAEL;AATf;AAAA;AAAA;AAAA;AAAA,kBADF,eAYE;AACE,YAAA,IAAI,EAAC,QADP;AAEE,YAAA,KAAK,EAAC,GAFR;AAGE,YAAA,SAAS,EAAC,QAHZ;AAIE,YAAA,OAAO,EAAE,KAAKD,WAJhB;AAKE,YAAA,EAAE,EAAC;AALL;AAAA;AAAA;AAAA;AAAA,kBAZF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAJF,eA0BE;AAAM,QAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA1BF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AA8BD;;AA/C8C","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Axios from 'axios';\r\n\r\n// @connect((store) => {\r\n//   return {\r\n//     status: store.weatherStation.status\r\n//   }\r\n// })\r\n\r\nconst fetchData = (region) => (dispatch) => {\r\n  const { latitude, longitude } = region || {};\r\n\r\n  const getDataByCity = `https://api.openweathermap.org/data/2.5/forecast?q=${region}&units=metric&appid=${APP_ID}`;\r\n  const getDataByCoords = `https://api.openweathermap.org/data/2.5/forecast?lat=${latitude}&lon=${longitude}&units=metric&appid=${APP_ID}`;\r\n\r\n  let location = typeof(region) === \"object\" ? getDataByCoords : getDataByCity;\r\n\r\n  return axios.get(location)\r\n    .then((response) => {\r\n      dispatch({type:  \"FETCH_DATA_FULFILLED\", payload: response.data});\r\n    })\r\n    .catch((err) => {\r\n      dispatch({type: \"FETCH_DATA_REJECTED\", payload: err}); // Error handling\r\n    });\r\n};\r\n\r\nexport default class Dashboard extends Component {\r\n\r\n\r\n  _updateCity = () => {\r\n    const city = this.__cityInput.value;\r\n    city.length !== 0 ? this.props.dispatch(fetchData(city)) : null;\r\n  }\r\n\r\n  _onkeyPress = e => {\r\n    e.key === \"Enter\" ? this._updateCity() : null\r\n  }\r\n\r\n  render() {\r\n\r\n    const { city, status } = this.props;\r\n    const wrapperClass = (status === \"failed\") ? \"weather-dashboard invalid-city\" : \"weather-dashboard\";\r\n\r\n    return (\r\n      <div className={wrapperClass}>\r\n        <header>\r\n          <h1 className=\"heading\">5-Day Weather Forecast</h1>\r\n        </header>\r\n        <section className=\"controls\">\r\n          <div>\r\n            <input\r\n              type=\"text\"\r\n              className=\"city-input\"\r\n              id=\"city-name\"\r\n              ref={input => {\r\n                this.__cityInput = input;\r\n                return this.__cityInput;\r\n              }}\r\n              onKeyPress={this._onkeyPress}\r\n              placeholder={city}\r\n            />\r\n            <input\r\n              type=\"button\"\r\n              value=\"&gt;\"\r\n              className=\"search\"\r\n              onClick={this._updateCity}\r\n              id=\"change-city-btn\"\r\n            />\r\n          </div>\r\n        </section>\r\n        <span className=\"error\">Please enter valid city name!</span>\r\n      </div>\r\n    );\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}